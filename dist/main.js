!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new TypeError('Abstract class "'.concat(this.constructor.name,'" cannot be instantiated directly'))}var e,r,o;return e=t,(r=[{key:"update",value:function(t){throw new Error("Unimplemented method")}}])&&n(e.prototype,r),o&&n(e,o),t}();function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,r,n,o=y(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{artists:[],earliestReleaseYear:0,latestReleaseYear:0};return c(this,i),(t=o.call(this))._state=e,t}return e=i,(r=[{key:"addArtists",value:function(t){var e;(e=this._state.artists).push.apply(e,u(t)),this._sortArtistsChronologically(),this._setEarliestAndLatestReleaseYear(),this.notifyObservers(this._state)}},{key:"_sortArtistsChronologically",value:function(){this._state.artists.sort((function(t,e){return t.earliestReleaseYear-e.earliestReleaseYear}))}},{key:"_setEarliestAndLatestReleaseYear",value:function(){this._state.earliestReleaseYear=this._state.artists[0].earliestReleaseYear;var t=this.artists.length-1;this._state.latestReleaseYear=this._state.artists[t].latestReleaseYear}},{key:"artists",get:function(){return this._state.artists}},{key:"earliestReleaseYear",get:function(){return this._state.earliestReleaseYear}},{key:"latestReleaseYear",get:function(){return this._state.latestReleaseYear}}])&&l(e.prototype,r),n&&l(e,n),i}(function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new TypeError('Abstract class "'.concat(this.constructor.name,'" cannot be instantiated directly'));this.observers=[]}var e,r,n;return e=t,(r=[{key:"subscribe",value:function(t){t instanceof o&&this.observers.push(t)}},{key:"unsubscribe",value:function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}},{key:"notifyObservers",value:function(t){for(var e=0;e<this.observers.length;e++)this.observers[e].update(t)}}])&&i(e.prototype,r),n&&i(e,n),t}());function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=document.createElement(t);for(var o in e)n.setAttribute(o,e[o]);return r.forEach((function(t){"string"==typeof t?n.appendChild(document.createTextNode(t)):n.appendChild(t)})),n}function d(t){var e={class:"timeline-axis-year"};return t%10==0&&(e.color="#1ed760"),v("div",e,[t.toString()])}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,t);var e,r,n,o=w(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this))._appState=t,e}return e=i,(r=[{key:"render",value:function(){for(var t=v("div",{class:"timeline-axis-first-col"}),e=this._generateArrayOfYears(),r=[],n=0;n<e.length;n++)r.push(d(e[n]));var o=v("div",{id:"timeline-axis",class:"timeline-axis"},[t].concat(r));document.getElementById("timeline-axis").replaceWith(o)}},{key:"update",value:function(){this.render()}},{key:"_generateArrayOfYears",value:function(){var t=0==this._appState.latestReleaseYear?new Date(Date.now()).getFullYear():null,e=null==t?this._appState.latestReleaseYear:t-1,r=null==t?this._appState.earliestReleaseYear:t-10,n=e-r+2;return Array.from(new Array(n),(function(t,e){return e+r}))}}])&&g(e.prototype,r),n&&g(e,n),i}(o))(new h).render()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uvb2JzZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uvb2JzZXJ2YWJsZV9zdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9lbGVtZW50cy9AZWxlbWVudF9mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL3NyYy9lbGVtZW50cy90aW1lbGluZV9heGlzX3llYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RpbWVsaW5lc19heGlzLmpzIiwid2VicGFjazovLy8uL3NyYy9lbGVtZW50cy90aW1lbGluZV9heGlzX2ZpcnN0X2NvbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk9ic2VydmVyIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiZGF0YSIsIkVycm9yIiwiT2JzZXJ2YWJsZVN0YXRlIiwic3RhdGUiLCJhcnRpc3RzIiwiZWFybGllc3RSZWxlYXNlWWVhciIsImxhdGVzdFJlbGVhc2VZZWFyIiwiX3N0YXRlIiwicHVzaCIsIl9zb3J0QXJ0aXN0c0Nocm9ub2xvZ2ljYWxseSIsIl9zZXRFYXJsaWVzdEFuZExhdGVzdFJlbGVhc2VZZWFyIiwibm90aWZ5T2JzZXJ2ZXJzIiwic29ydCIsImEiLCJiIiwibGFzdEFydGlzdEluZGV4IiwibGVuZ3RoIiwiT2JzZXJ2YWJsZSIsIm9ic2VydmVycyIsIm9ic2VydmVyIiwiaW5kZXhPZiIsInNwbGljZSIsInVwZGF0ZSIsImVsRmFjdG9yeSIsInR5cGUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRyZW4iLCJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjaGlsZCIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJ0aW1lbGluZUF4aXNZZWFyRWwiLCJ5ZWFyIiwiY2xhc3MiLCJjb2xvciIsInRvU3RyaW5nIiwib2JzZXJ2YWJsZVN0YXRlIiwiX2FwcFN0YXRlIiwiZmlyc3RDb2wiLCJ5ZWFyc0FycmF5IiwiX2dlbmVyYXRlQXJyYXlPZlllYXJzIiwieWVhcnNFbGVtZW50cyIsImNvbXBvbmVudCIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXBsYWNlV2l0aCIsInJlbmRlciIsImN1cnJlbnRZZWFyIiwiRGF0ZSIsIm5vdyIsImdldEZ1bGxZZWFyIiwiZW5kaW5nWWVhciIsInN0YXJ0aW5nWWVhciIsInllYXJzRGlmZiIsIkFycmF5IiwiZnJvbSIsIl8iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxF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LGtCQUNYLElBQUk4QyxLQUFLQSxLQUFLQyxPQUFPQyxjQUNyQixLQUNGQyxFQUNhLE1BQWZKLEVBQXNCdEQsS0FBSzRDLFVBQVVuQyxrQkFBb0I2QyxFQUFjLEVBQ3JFSyxFQUNhLE1BQWZMLEVBQ0l0RCxLQUFLNEMsVUFBVXBDLG9CQUNmOEMsRUFBYyxHQUNkTSxFQUFZRixFQUFhQyxFQUFlLEVBQzlDLE9BQU9FLE1BQU1DLEtBQUssSUFBSUQsTUFBTUQsSUFBWSxTQUFDRyxFQUFHaEcsR0FBSixPQUFVQSxFQUFJNEYsVSw4QkF4RGhCNUQsR0RGMUMsQ0FEZSxJQUFJTSxHQUNRZ0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IE9ic2VydmVyKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBgQWJzdHJhY3QgY2xhc3MgXCIke3RoaXMuY29uc3RydWN0b3IubmFtZX1cIiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgIFxuICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgKi9cbiAgdXBkYXRlKGRhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIG1ldGhvZFwiKTtcbiAgfVxufVxuIiwiaW1wb3J0IEFydGlzdCBmcm9tIFwiLi4vbW9kZWxzL2FydGlzdFwiO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSBcIi4vb2JzZXJ2YWJsZVwiO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge0FydGlzdFtdfSBhcnRpc3RzXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWFybGllc3RSZWxlYXNlWWVhclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxhdGVzdFJlbGVhc2VZZWFyXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2YWJsZVN0YXRlIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhdGUgPSB7XG4gICAgICBhcnRpc3RzOiBbXSxcbiAgICAgIGVhcmxpZXN0UmVsZWFzZVllYXI6IDAsXG4gICAgICBsYXRlc3RSZWxlYXNlWWVhcjogMCxcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGdldCBhcnRpc3RzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5hcnRpc3RzO1xuICB9XG5cbiAgZ2V0IGVhcmxpZXN0UmVsZWFzZVllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmVhcmxpZXN0UmVsZWFzZVllYXI7XG4gIH1cblxuICBnZXQgbGF0ZXN0UmVsZWFzZVllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmxhdGVzdFJlbGVhc2VZZWFyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJ0aXN0W119IGFydGlzdHNcbiAgICovXG4gIGFkZEFydGlzdHMoYXJ0aXN0cykge1xuICAgIHRoaXMuX3N0YXRlLmFydGlzdHMucHVzaCguLi5hcnRpc3RzKTtcbiAgICB0aGlzLl9zb3J0QXJ0aXN0c0Nocm9ub2xvZ2ljYWxseSgpO1xuICAgIHRoaXMuX3NldEVhcmxpZXN0QW5kTGF0ZXN0UmVsZWFzZVllYXIoKTtcbiAgICB0aGlzLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zb3J0QXJ0aXN0c0Nocm9ub2xvZ2ljYWxseSgpIHtcbiAgICB0aGlzLl9zdGF0ZS5hcnRpc3RzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLmVhcmxpZXN0UmVsZWFzZVllYXIgLSBiLmVhcmxpZXN0UmVsZWFzZVllYXI7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRFYXJsaWVzdEFuZExhdGVzdFJlbGVhc2VZZWFyKCkge1xuICAgIHRoaXMuX3N0YXRlLmVhcmxpZXN0UmVsZWFzZVllYXIgPSB0aGlzLl9zdGF0ZS5hcnRpc3RzWzBdLmVhcmxpZXN0UmVsZWFzZVllYXI7XG4gICAgbGV0IGxhc3RBcnRpc3RJbmRleCA9IHRoaXMuYXJ0aXN0cy5sZW5ndGggLSAxO1xuICAgIHRoaXMuX3N0YXRlLmxhdGVzdFJlbGVhc2VZZWFyID0gdGhpcy5fc3RhdGUuYXJ0aXN0c1tcbiAgICAgIGxhc3RBcnRpc3RJbmRleFxuICAgIF0ubGF0ZXN0UmVsZWFzZVllYXI7XG4gIH1cbn1cbiIsImltcG9ydCBPYnNlcnZlciBmcm9tIFwiLi9vYnNlcnZlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYnNlcnZhYmxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IE9ic2VydmFibGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGBBYnN0cmFjdCBjbGFzcyBcIiR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfVwiIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHlgXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JzZXJ2ZXJ9IG9ic2VydmVyXG4gICAqL1xuICBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICBpZiAob2JzZXJ2ZXIgaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG5cbiAgICogQHBhcmFtIHtPYnNlcnZlcn0gb2JzZXJ2ZXJcbiAgICovXG4gIHVuc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgbGV0IGkgPSB0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcbiAgICBpZiAoaSA+PSAwKSB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwgMSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICovXG4gIG5vdGlmeU9ic2VydmVycyhkYXRhKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5vYnNlcnZlcnNbaV0udXBkYXRlKGRhdGEpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtvYmplY3R9IGF0dHJpYnV0ZXMgLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9mci9kb2NzL1dlYi9IVE1ML0F0dHJpYnV0c1xuICogQHBhcmFtIHsoSFRNTEVsZW1lbnR8c3RyaW5nKVtdfSBjaGlsZHJlblxuICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxGYWN0b3J5KHR5cGUsIGF0dHJpYnV0ZXMgPSB7fSwgY2hpbGRyZW4gPSBbXSkge1xuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAvL2xldCBlbCA9IE9iamVjdC5hc3NpZ24obmV3RWwsIGF0dHJpYnV0ZXMpO1xuXG4gIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfVxuXG4gIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGVsO1xufVxuIiwiaW1wb3J0IHsgZWxGYWN0b3J5IH0gZnJvbSBcIi4vQGVsZW1lbnRfZmFjdG9yeVwiO1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lbGluZUF4aXNZZWFyRWwoeWVhcikge1xuICBsZXQgYXR0cmlidXRlcyA9IHtcbiAgICBjbGFzczogXCJ0aW1lbGluZS1heGlzLXllYXJcIixcbiAgfTtcblxuICBpZiAoeWVhciAlIDEwID09IDApIHtcbiAgICBhdHRyaWJ1dGVzLmNvbG9yID0gXCIjMWVkNzYwXCI7XG4gIH1cblxuICByZXR1cm4gZWxGYWN0b3J5KFwiZGl2XCIsIGF0dHJpYnV0ZXMsIFt5ZWFyLnRvU3RyaW5nKCldKTtcbn1cbiIsImltcG9ydCBPYnNlcnZhYmxlU3RhdGUgZnJvbSBcIi4vYmFzZS9vYnNlcnZhYmxlX3N0YXRlXCI7XG5pbXBvcnQgVGltZWxpbmVBeGlzIGZyb20gXCIuL2NvbXBvbmVudHMvdGltZWxpbmVzX2F4aXNcIjtcblxubGV0IGFwcFN0YXRlID0gbmV3IE9ic2VydmFibGVTdGF0ZSgpO1xubmV3IFRpbWVsaW5lQXhpcyhhcHBTdGF0ZSkucmVuZGVyKCk7XG4iLCJpbXBvcnQgT2JzZXJ2YWJsZVN0YXRlIGZyb20gXCIuLi9iYXNlL29ic2VydmFibGVfc3RhdGVcIjtcbmltcG9ydCBPYnNlcnZlciBmcm9tIFwiLi4vYmFzZS9vYnNlcnZlclwiO1xuaW1wb3J0IHsgZWxGYWN0b3J5IH0gZnJvbSBcIi4uL2VsZW1lbnRzL0BlbGVtZW50X2ZhY3RvcnlcIjtcbmltcG9ydCB7IHRpbWVsaW5lQXhpc0ZpcnN0Q29sRWwgfSBmcm9tIFwiLi4vZWxlbWVudHMvdGltZWxpbmVfYXhpc19maXJzdF9jb2xcIjtcbmltcG9ydCB7IHRpbWVsaW5lQXhpc1llYXJFbCB9IGZyb20gXCIuLi9lbGVtZW50cy90aW1lbGluZV9heGlzX3llYXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZWxpbmVBeGlzIGV4dGVuZHMgT2JzZXJ2ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPYnNlcnZhYmxlU3RhdGV9IG9ic2VydmFibGVTdGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3Iob2JzZXJ2YWJsZVN0YXRlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9hcHBTdGF0ZSA9IG9ic2VydmFibGVTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICAvLyBhdHRyaWJ1dGVzXG4gICAgbGV0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICBpZDogXCJ0aW1lbGluZS1heGlzXCIsXG4gICAgICBjbGFzczogXCJ0aW1lbGluZS1heGlzXCIsXG4gICAgfTtcbiAgICAvLyBjaGlsZHJlblxuICAgIGxldCBmaXJzdENvbCA9IHRpbWVsaW5lQXhpc0ZpcnN0Q29sRWwoKTtcbiAgICBsZXQgeWVhcnNBcnJheSA9IHRoaXMuX2dlbmVyYXRlQXJyYXlPZlllYXJzKCk7XG4gICAgbGV0IHllYXJzRWxlbWVudHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHllYXJzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHllYXJzRWxlbWVudHMucHVzaCh0aW1lbGluZUF4aXNZZWFyRWwoeWVhcnNBcnJheVtpXSkpO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBjb21wb25lbnRcbiAgICBsZXQgY29tcG9uZW50ID0gZWxGYWN0b3J5KFwiZGl2XCIsIGF0dHJpYnV0ZXMsIFtmaXJzdENvbCwgLi4ueWVhcnNFbGVtZW50c10pO1xuXG4gICAgLy8gbWFuaXB1bGF0ZSBEb21cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVsaW5lLWF4aXNcIikucmVwbGFjZVdpdGgoY29tcG9uZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge251bWJlcltdfVxuICAgKi9cbiAgX2dlbmVyYXRlQXJyYXlPZlllYXJzKCkge1xuICAgIGxldCBjdXJyZW50WWVhciA9XG4gICAgICB0aGlzLl9hcHBTdGF0ZS5sYXRlc3RSZWxlYXNlWWVhciA9PSAwXG4gICAgICAgID8gbmV3IERhdGUoRGF0ZS5ub3coKSkuZ2V0RnVsbFllYXIoKVxuICAgICAgICA6IG51bGw7XG4gICAgbGV0IGVuZGluZ1llYXIgPVxuICAgICAgY3VycmVudFllYXIgPT0gbnVsbCA/IHRoaXMuX2FwcFN0YXRlLmxhdGVzdFJlbGVhc2VZZWFyIDogY3VycmVudFllYXIgLSAxOyAvLyBjdXJyZW50IHllYXIgd2lsbCBiZSByZS1hZGRlZCBpbiB5ZWFyIGRpZmZcbiAgICBsZXQgc3RhcnRpbmdZZWFyID1cbiAgICAgIGN1cnJlbnRZZWFyID09IG51bGxcbiAgICAgICAgPyB0aGlzLl9hcHBTdGF0ZS5lYXJsaWVzdFJlbGVhc2VZZWFyXG4gICAgICAgIDogY3VycmVudFllYXIgLSAxMDtcbiAgICBjb25zdCB5ZWFyc0RpZmYgPSBlbmRpbmdZZWFyIC0gc3RhcnRpbmdZZWFyICsgMjsgLy8gKzIgdG8gaW5jbHVkZSBhbGwgdGhlIHllYXJzIGluIHJhbmdlICsgMSBhZGRpdGlvbmFsIHllYXJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgQXJyYXkoeWVhcnNEaWZmKSwgKF8sIGkpID0+IGkgKyBzdGFydGluZ1llYXIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBlbEZhY3RvcnkgfSBmcm9tIFwiLi9AZWxlbWVudF9mYWN0b3J5XCI7XG5cbi8qKlxuICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZWxpbmVBeGlzRmlyc3RDb2xFbCgpIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSB7XG4gICAgY2xhc3M6IFwidGltZWxpbmUtYXhpcy1maXJzdC1jb2xcIixcbiAgfTtcblxuICByZXR1cm4gZWxGYWN0b3J5KFwiZGl2XCIsIGF0dHJpYnV0ZXMpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==